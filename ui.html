<style>
  #inputArea {
    display: none;
  }
</style>
<textarea name="" id="inputArea" cols="30" rows="10"></textarea>
<script>
  function getConnector(e) {
    const input = document.getElementById("inputArea");
    input.focus();
    document.execCommand("copy");
  }

  onmessage = (event) => {
    const { type, data } = event.data.pluginMessage;
    switch (type) {
      case "GET_INIT_CONNECTOR":
        if (data.initConnector) {
          const input = document.getElementById("inputArea");
          input.focus();
          input.value = data.initConnector;
          document.execCommand("copy");
          input.blur();
          parent.postMessage(
            { pluginMessage: { type: "FOCUS_ON_CANVAS" } },
            "*"
          );
        }
    }
  };

  document.addEventListener("copy", function (event) {
    event.preventDefault();
    let clipboardData = event.clipboardData || window.clipboardData;
    clipboardData.setData(
      "text/html",
      document.getElementById("inputArea").value
    );
  });
</script>
